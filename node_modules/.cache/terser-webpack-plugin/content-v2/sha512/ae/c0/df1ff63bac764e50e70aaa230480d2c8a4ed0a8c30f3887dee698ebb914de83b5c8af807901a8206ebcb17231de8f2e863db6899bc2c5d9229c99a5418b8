{"code":"!function(r){var t={};function e(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=r,e.c=t,e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:n})},e.r=function(r){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(r,\"__esModule\",{value:!0})},e.t=function(r,t){if(1&t&&(r=e(r)),8&t)return r;if(4&t&&\"object\"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:r}),2&t&&\"string\"!=typeof r)for(var o in r)e.d(n,o,function(t){return r[t]}.bind(null,o));return n},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,\"a\",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p=\"\",e(e.s=0)}([function(r,t,e){e(1).AMDF()(getAudioBuffer().getChannelData(0))},function(r,t,e){r.exports=e(2)},function(r,t,e){\"use strict\";var n=e(3),o=e(4),a=e(5),i=e(6),f=e(7),u=e(8);r.exports={AMDF:n,YIN:o,DynamicWavelet:a,Macleod:i,ACF2PLUS:f,frequencies:u}},function(r,t,e){\"use strict\";r.exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.sampleRate||44100,e=r.minFrequency||82,n=r.maxFrequency||1e3,o=r.sensitivity||.1,a=r.ratio||5,i=[],f=Math.ceil(t/e),u=Math.floor(t/n);return function(r){var e=r.length,n=0,v=1/0,l=-1/0,c=void 0,s=void 0,h=void 0,d=void 0,p=void 0,g=void 0,b=void 0,y=void 0;for(d=0;d<e;d++)if(u<=d&&d<=f){for(b=0,y=d,n=0,c=[],s=[];b<e-d;n++,y++,b++)c[n]=r[b],s[n]=r[y];var M=c.length;for(h=[],g=0;g<M;g++)h[g]=c[g]-s[g];var m=0;for(g=0;g<M;g++)m+=Math.abs(h[g]);i[d]=m}for(p=u;p<f;p++)i[p]<v&&(v=i[p]),i[p]>l&&(l=i[p]);var x=Math.round(o*(l-v)+v);for(p=u;p<=f&&i[p]>x;p++);var A=u/2;v=i[p];var w=p;for(d=p-1;d<p+A&&d<=f;d++)i[d]<v&&(v=i[d],w=d);return Math.round(i[w]*a)<l?t/w:null}}},function(r,t,e){\"use strict\";r.exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.threshold||.1,e=r.sampleRate||44100,n=r.probabilityThreshold||.1;return function(r){var o=void 0;for(o=1;o<r.length;o*=2);for(var a=(o/=2)/2,i=new Float32Array(a),f=void 0,u=void 0,v=0;v<a;v++)i[v]=0;for(var l=1;l<a;l++)for(var c=0;c<a;c++){var s=r[c]-r[c+l];i[l]+=s*s}i[0]=1,i[1]=1;for(var h=0,d=1;d<a;d++)h+=i[d],i[d]*=d/h;for(u=2;u<a;u++)if(i[u]<t){for(;u+1<a&&i[u+1]<i[u];)u++;f=1-i[u];break}if(u==a||i[u]>=t)return null;if(f<n)return null;var p=void 0,g=void 0,b=void 0;if(b=u+1<a?u+1:u,(g=u<1?u:u-1)===u)p=i[u]<=i[b]?u:b;else if(b===u)p=i[u]<=i[g]?u:g;else{var y=i[g],M=i[u],m=i[b];p=u+(m-y)/(2*(2*M-m-y))}return e/p}}},function(r,t,e){\"use strict\";r.exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.sampleRate||44100;return function(r){for(var e=[],n=[],o=r.length,a=null,i=0,f=0,u=0,v=0;v<o;v++){var l=r[v];i+=l,u=Math.max(u,l),f=Math.min(f,l)}for(var c=.75*((u-=i/=o)>-1*(f-=i)?u:-1*f),s=0,h=-1,d=r.length,p=void 0,g=void 0,b=void 0;p=~~(t/(3e3*Math.pow(2,s))),!(d<2);){var y=void 0,M=-1e3,m=-1e6,x=-1e6,A=!1,w=!1;b=0,g=0;for(var F=2;F<d;F++){var S=r[F]-i,j=r[F-1]-i;j<=0&&S>0&&(A=!0),j>=0&&S<0&&(w=!0),y=S-j,M>-1e3&&(w&&M<0&&y>=0&&Math.abs(S)>=c&&F>m+p&&(e[b++]=F,m=F,w=!1),A&&M>0&&y<=0&&Math.abs(S)>=c&&F>x+p&&(n[g++]=F,x=F,A=!1)),M=y}if(0===b&&0===g)break;for(var O=[],k=0;k<d;k++)O[k]=0;for(var q=0;q<b;q++)for(var P=1;P<3;P++)q+P<b&&(O[Math.abs(e[q]-e[q+P])]+=1);for(var R=-1,_=-1,D=0;D<d;D++){for(var T=0,z=-1*p;z<=p;z++)D+z>=0&&D+z<d&&(T+=O[D+z]);T===_?D===2*R&&(R=D):T>_&&(_=T,R=D)}for(var B=0,C=0,I=-p;I<=p;I++)if(R+I>=0&&R+I<o){var E=O[R+I];E>0&&(C+=E,B+=(R+I)*E)}if(B/=C,h>-1&&Math.abs(2*B-h)<=2*p){a=t/(Math.pow(2,s-1)*h);break}if(h=B,++s>=6||d<2)break;var L=r.subarray(0);d===O.length&&(L=new Float32Array(d/2));for(var N=0;N<d/2;N++)L[N]=(r[2*N]+r[2*N+1])/2;r=L,d/=2}return a}}},function(r,t,e){\"use strict\";r.exports=function(r){var t=(r=r||{}).cutoff||.97,e=r.sampleRate||44100,n=r.bufferSize||1024,o=new Float32Array(n),a=new Float32Array(n),i=void 0,f=void 0,u=[],v=[],l=[],c={},s=function(r){var t=o[r-1],e=o[r],n=o[r+1],a=n+t-2*e;if(0===a)i=r,f=e;else{var u=t-n;i=r+u/(2*a),f=e-u*u/(8*a)}};return function(r){var n=void 0;u=[],v=[],l=[],function(r){var t=void 0,e=void 0;a[0]=r[0]*r[0];for(var n=1;n<r.length;n+=1)a[n]=r[n]*r[n]+a[n-1];for(var i=0;i<r.length;i++){t=0,e=a[r.length-1-i]+a[r.length-1]-a[i];for(var f=0;f<r.length-i;f++)t+=r[f]*r[f+i];o[i]=2*t/e}}(r),function(){for(var r=0,t=0;r<(o.length-1)/3&&o[r]>0;)r++;for(;r<o.length-1&&o[r]<=0;)r++;for(0==r&&(r=1);r<o.length-1;)if(o[r]>o[r-1]&&o[r]>=o[r+1]&&(0==t||o[r]>o[t])&&(t=r),++r<o.length-1&&o[r]<=0)for(t>0&&(u.push(t),t=0);r<o.length-1&&o[r]<=0;)r++;t>0&&u.push(t)}();for(var h=-1/0,d=0;d<u.length;d++){var p=u[d];h=Math.max(h,o[p]),o[p]>.5&&(s(p),l.push(f),v.push(i),h=Math.max(h,f))}if(v.length){for(var g=t*h,b=0,y=0;y<l.length;y++)if(l[y]>=g){b=y;break}var M=v[b],m=e/M;n=m>80?m:-1}else n=-1;return c.probability=h,c.freq=n,c}}},function(r,t,e){\"use strict\";r.exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.sampleRate||44100;return function(r){var e=r.length,n=0,o=void 0,a=void 0,i=void 0,f=void 0,u=void 0,v=void 0;for(o=0;o<e;o++)n+=(v=r[o])*v;if((n=Math.sqrt(n/e))<.01)return-1;for(f=0,u=e-1,.2,o=0;o<e/2;o++)if(Math.abs(r[o])<.2){f=o;break}for(o=1;o<e/2;o++)if(Math.abs(r[e-o])<.2){u=e-o;break}var l=r.slice(f,u),c=l.length,s=new Array(c).fill(0);for(o=0;o<c;o++)for(a=0;a<c-o;a++)s[o]=s[o]+l[a]*l[a+o];for(i=0;s[i]>s[i+1];)i++;var h=-1,d=-1;for(o=i;o<c;o++)s[o]>h&&(h=s[o],d=o);var p=d,g=s[p-1],b=s[p],y=s[p+1],M=(g+y-2*b)/2;return M&&(p-=(y-g)/2/(2*M)),t/p}}},function(r,t,e){\"use strict\";var n=function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,t){var e=[],n=!0,o=!1,a=void 0;try{for(var i,f=r[Symbol.iterator]();!(n=(i=f.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(r){o=!0,a=r}finally{try{!n&&f.return&&f.return()}finally{if(o)throw a}}return e}(r,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};function o(r,t){var e=r.map((function(r){return r(t)})).filter(Boolean).sort((function(r,t){return r<t?-1:1}));if(1===e.length)return e[0];if(2===e.length){var o=n(e,2),a=o[0],i=o[1];return 2*a>i?Math.sqrt(a*i):a}var f=e[0],u=e[1],v=e[e.length-2],l=e[e.length-1],c=2*f>u?e:e.slice(1),s=2*v>l?c:c.slice(0,-1);return Math.pow(s.reduce((function(r,t){return r*t}),1),1/s.length)}r.exports=function(r,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.tempo||120,a=e.quantization||4,i=e.sampleRate||44100,f=t.length,u=Math.round(60*i/(a*n)),v=void 0;v=Array.isArray(r)?o.bind(null,r):r;for(var l=[],c=0,s=f-u;c<=s;c+=u){var h=t.slice(c,c+u),d=v(h);l.push(d)}return l}}]);","extractedComments":[]}